<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图标生成工具</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .canvas-container {
            text-align: center;
            margin: 20px 0;
        }
        canvas {
            border: 1px solid #ddd;
            margin: 10px;
        }
        .download-btn {
            background: #f97316;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .download-btn:hover {
            background: #ea580c;
        }
    </style>
</head>
<body>
    <h1>PWA图标生成器 - 猫头鹰主题</h1>
    <p>这个工具将生成所需的PWA图标尺寸</p>

    <div class="canvas-container">
        <canvas id="canvas72" width="72" height="72"></canvas>
        <canvas id="canvas96" width="96" height="96"></canvas>
        <canvas id="canvas128" width="128" height="128"></canvas>
        <canvas id="canvas144" width="144" height="144"></canvas>
        <canvas id="canvas152" width="152" height="152"></canvas>
        <canvas id="canvas192" width="192" height="192"></canvas>
        <canvas id="canvas384" width="384" height="384"></canvas>
        <canvas id="canvas512" width="512" height="512"></canvas>
    </div>

    <div class="canvas-container">
        <button class="download-btn" onclick="downloadIcon(72)">下载 72x72</button>
        <button class="download-btn" onclick="downloadIcon(96)">下载 96x96</button>
        <button class="download-btn" onclick="downloadIcon(128)">下载 128x128</button>
        <button class="download-btn" onclick="downloadIcon(144)">下载 144x144</button>
        <button class="download-btn" onclick="downloadIcon(152)">下载 152x152</button>
        <button class="download-btn" onclick="downloadIcon(192)">下载 192x192</button>
        <button class="download-btn" onclick="downloadIcon(384)">下载 384x384</button>
        <button class="download-btn" onclick="downloadIcon(512)">下载 512x512</button>
        <button class="download-btn" onclick="downloadAllIcons()">下载全部</button>
    </div>

    <script>
        // 绘制猫头鹰图标
        function drawOwlIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, size, size);

            // 设置比例
            const scale = size / 100;
            ctx.scale(scale, scale);

            // 背景圆形（橙色）
            ctx.fillStyle = '#f97316';
            ctx.beginPath();
            ctx.arc(50, 50, 45, 0, 2 * Math.PI);
            ctx.fill();

            // 猫头鹰身体（深色）
            ctx.fillStyle = '#1f2937';
            ctx.beginPath();
            ctx.ellipse(50, 55, 25, 30, 0, 0, 2 * Math.PI);
            ctx.fill();

            // 猫头鹰头部（深色）
            ctx.fillStyle = '#1f2937';
            ctx.beginPath();
            ctx.arc(50, 35, 20, 0, 2 * Math.PI);
            ctx.fill();

            // 眼睛背景（白色）
            ctx.fillStyle = '#ffffff';
            ctx.beginPath();
            ctx.arc(43, 32, 6, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(57, 32, 6, 0, 2 * Math.PI);
            ctx.fill();

            // 眼珠（橙色）
            ctx.fillStyle = '#f97316';
            ctx.beginPath();
            ctx.arc(43, 32, 3, 0, 2 * Math.PI);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(57, 32, 3, 0, 2 * Math.PI);
            ctx.fill();

            // 喙（橙色）
            ctx.fillStyle = '#f97316';
            ctx.beginPath();
            ctx.moveTo(50, 38);
            ctx.lineTo(47, 43);
            ctx.lineTo(53, 43);
            ctx.closePath();
            ctx.fill();

            // 耳朵（深色）
            ctx.fillStyle = '#1f2937';
            ctx.beginPath();
            ctx.moveTo(35, 25);
            ctx.lineTo(40, 15);
            ctx.lineTo(45, 25);
            ctx.closePath();
            ctx.fill();

            ctx.beginPath();
            ctx.moveTo(55, 25);
            ctx.lineTo(60, 15);
            ctx.lineTo(65, 25);
            ctx.closePath();
            ctx.fill();

            // 翅膀装饰（橙色线条）
            ctx.strokeStyle = '#f97316';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(35, 50, 8, 0, Math.PI);
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(65, 50, 8, 0, Math.PI);
            ctx.stroke();

            // 重置变换
            ctx.setTransform(1, 0, 0, 1, 0, 0);
        }

        // 初始化所有画布
        function initializeCanvases() {
            const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas${size}`);
                drawOwlIcon(canvas, size);
            });
        }

        // 下载单个图标
        function downloadIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const link = document.createElement('a');
            link.download = `icon-${size}x${size}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // 下载全部图标
        function downloadAllIcons() {
            const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    downloadIcon(size);
                }, index * 500); // 每0.5秒下载一个
            });
        }

        // 页面加载完成后初始化
        window.addEventListener('load', initializeCanvases);
    </script>
</body>
</html>